<!DOCTYPE html>
<html>
    <head>
        <link href="../../css/moderator_style.css" rel="stylesheet">
        <script defer src="../../js/moderator_home.js"></script>
        <script src="https://kit.fontawesome.com/ee112817f8.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <meta charset="UTF-8"/>
        <title>Модератор</title>
    </head>
    <body>
        <img class="logo" src="../../images/su-logo.png" alt="su-logo"/>
        <p class="su-header">СУ "СВ. КЛИМЕНТ ОХРИДСКИ"</p>
        <div class="navigation">
            <h2 class="navigation_element" id="diploma_header" onclick="showDiplomaSection()">
                ДИПЛОМИРАНЕ
            </h2>
            <div class="vertical_line"></div>
            <h2 class="navigation_element active_header" id="users_header" onclick="showUsers()">
                ПОТРЕБИТЕЛИ
            </h2>
            <div class="vertical_line"></div>
            <h2 class="navigation_element" id="students_header" onclick="showStudents()">
                СТУДЕНТИ
            </h2>
            <div class="vertical_line"></div>
            <h2 class="navigation_element" id="messages_header" onclick="showMessagesSection()">
                СЪОБЩЕНИЯ
            </h2>
            <div class="vertical_line"></div>
            <h2 class="navigation_element" id="analytic_header" onclick="showAnalyticsSection()">
                СТАТИСТИКА
            </h2>
            <div class="vertical_line"></div>

            <h2 class="navigation_element" id="responsibilities_header" onclick="responsibilitiesByModeratorRole()">
                ОТГОВОРНОСТ
            </h2>
            <div class="vertical_line"></div>

            <h2 class="navigation_element" id="logout_header">
                ИЗХОД
                <i class="fas fa-sign-out-alt"></i>
            </h2>
        </div>
        <div class="row">

            <div id="users_section">
                <h3>
                    <i class="fas fa-list"></i>
                    Списък потребители</h3>
                <table class="users-table" id="users-table">
                    <tr>
                        <td>Име</td>
                        <td>Имейл</td>
                        <td>Телефон</td>
                        <td>Роля</td>
                    </tr>
                </table>
            </div>

            <div id="students_section">
                <h3>
                    <i class="fas fa-list"></i>
                    Списък студенти</h3>
                <table class="students-table" id="students-table">
                    <tr>
                        <td>Име</td>
                        <td>Имейл</td>
                        <td>Телефон</td>
                        <td>ФН</td>
                        <td>Степен</td>
                        <td>Спец.</td>
                        <td>Група</td>
                        <td>Дипломиращ се</td>
                        <td>Роля</td>
                    </tr>
                </table>
            </div>

            <div id="messages_send_section">
                <h3>
                    <i class="fas fa-envelope"></i>
                    Изпращане на съобщения до студенти и потребители</h3>
                <form id="write-message">
                    <div id="textarea">
                        <textarea class="dashboard-textarea-fn" name="textarea" id="textarea-emails" placeholder="Моля, въведете:&NewLine;- Имейли, отделени със запетаи; &NewLine;- `@Студенти`, ако искате да изпратите съобщението до всички студенти, за които отговаряте;"></textarea>
                    <textarea class="dashboard-textarea-fn" name="message" id="message" placeholder="Напишете вашето съобщение"></textarea>

                </div>
                <button type="submit" class="submit-button-users" id="send-message" onclick="sendMessage(event)">Изпрати
                    <i class="fa fa-send-o"></i>
                </button>
                <p class="message-bar" id="message-bar-export-message"></p>
            </form>
        </div>

        <div id="analytic_section" style="display:flex;">
            <h3 id="analytic_text"></h3>
            <div id="analytics1" class="analytics"></div>
            <div id="analytics2" class="analytics"></div>
            <div id="analytics3" class="analytics"></div>
            <div id="analytics4" class="analytics"></div>
        </div>


        <div id="diploma_section">
            <h3>
                <i class="fas fa-list"></i>
                    Списък студенти
                </h3>
                <div class="filters">
                    <input class="search" id="search-diploma" placeholder="Търсене..." oninput="searchInTable('diploma-table','search-diploma')"/>
                </div>

            <table class="diploma-table" id="diploma-table">
                <tr>
                    <td>ФН</td>
                    <td>Име</td>
                    <td>Цвят</td>
                    <td>Ред на връчване</td>
                    <td>Час на връчване</td>
                    <td>Степен</td>
                    <td>Спец.</td>
                    <td>Група</td>
                    <td>Успех</td>
                    <td>Присъствие</td>
                    <td>Има право</td>
                    <td>Модератор за диплома</td>
                    <td>Готова диплома</td>
                    <td>Взета</td>
                    <td>Заявка взимане предв.</td>
                    <td>Коментар (студент)</td>
                    <td>Взета предв.</td>
                    <td>Дата/час</td>
                    <td>Коментар (администр.)</td>
                    <td>Покана реч</td>
                    <td>Отговор</td>
                    <td>Снимки</td>
                    <td>Модератор за тога</td>
                    <td>Заявена тога</td>
                    <td>Взета</td>
                    <td>Дата/час</td>
                    <td>Върната</td>
                    <td>Дата/час</td>
                    <td>Модератор за шапка</td>
                    <td>Заявена шапка</td>
                    <td>Взета</td>
                    <td>Дата/час</td>
                </tr>
            </table>
        </div>           

            <div id="responsibilities_section">
                <h3 id="responsibilities_beginning">Отговорност:</h3>
                <div id="sums-div"></div>
                <h3 id="header_responsibilities_table"></h3>
                <div class="filters">
                    <input class="search" id="search-responsibilities" placeholder="Търсене..." oninput="searchInTable('responsibilities_table','search-responsibilities')"/>
                    <form id="export_files_moderator_responsibilities">
                        <select class="file-extension-picker" name="format">
                            <option value="no" selected disabled hidden>Изберете файлов формат...</option>
                            <option value="csv">CSV</option>
                            <option value="txt">TextFile</option>
                            <option value="doc">MsWord</option>
                            <option value="xls">Excel</option>
                            <option value="pdf">PDF</option>
                        </select>
                        <button class="button" type="submit" id="button-export-moderator-responsibilities" onclick="getExportEndpointByModeratorRole(event,'export_files_moderator_responsibilities','message-bar-export-moderator-responsibilities')">
                            Изтегли
                            <i class="fas fa-file-export"></i>
                        </button>
                    </form>
                </div>

        <p class="message-bar" id="message-bar-export-moderator-responsibilities"></p>
            <table class="responsibilities_table" id="responsibilities_table">
                <tr></tr>
            </table>
            <h3 id="header_responsibilities_table2"></h3>
            <table class="responsibilities_table" id="responsibilities_table2">
                <tr></tr>
            </table>
            <h3><i class="fas fa-user-edit"></i> Актуализация</h3>
            <p id="message-bar-update-responsibilities" class="message-bar"></p>
            <form id="students_responsibilities_form" name="students_responsibilities_form" onsubmit="return false">
                <textarea class="form-input" name="updateResponsibilitiesForStudents" id="updateResponsibilitiesForStudents" rows="30"></textarea>
                <button type="submit" class="long-submit-button" onclick="updateStudentsByModeratorRole(event)">
                    Актуализирай
                </button>
            </form>
            </div>
        </div>

        <div class="row" id="messages_receive_section">
            <h3><i class="fas fa-envelope"></i>Получени съобщения</h3>
            <div id="notifications"></div>
        </div>
</body>
</html>
